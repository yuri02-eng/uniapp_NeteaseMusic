{"version":3,"file":"list.js","sources":["pages/list/list.vue","D:/浏览器下载/HBuilderX.4.65.2025051206/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbGlzdC9saXN0LnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"list\">\r\n\t\t<view class=\"fixbg\" :style=\"{backgroundImage : 'url('+playlist.coverImgUrl+')'}\"></view>\r\n\t\t<musichead title=\"歌单\" :icon=\"true\" color=\"black\"></musichead>\r\n\t\t<view class=\"container\" v-show=\"!isLoading\">\r\n\t\t\t<scroll-view scroll-y=\"true\">\r\n\t\t\t\t<view class=\"list-head\">\r\n\t\t\t\t\t<view class=\"list-head-img\">\r\n\t\t\t\t\t\t<image :src=\"playlist.coverImgUrl\"></image>\r\n\t\t\t\t\t\t<text class=\"iconfont iconyousanjiao\">{{formattCount(playlist.playCount)}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"list-head-text\">\r\n\t\t\t\t\t\t<view style=\"font-size: 30rpx;\">{{playlist.name}}</view>\r\n\t\t\t\t\t\t<view class=\"list-head-text-body\">\r\n\t\t\t\t\t\t\t<image :src=\"playlist.creator.avatarUrl\"></image>\r\n\t\t\t\t\t\t\t<text>{{playlist.creator.nickname}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view style=\"font-size: 19rpx;width: 80%;\">{{playlist.description}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t\t<button class=\"list-share\" open-type=\"share\">\r\n\t\t\t\t\t<text class=\"iconfont iconicon-\"></text>\r\n\t\t\t\t\t<text>分享给微信好友</text>\r\n\t\t\t\t</button>\r\n\t\t\t\t<!-- #endif -->\r\n\t\t\t\t<view class=\"list-music\">\r\n\t\t\t\t\t<view class=\"list-music-head\">\r\n\t\t\t\t\t\t<text class=\"iconfont iconbofang1\"> </text>\r\n\t\t\t\t\t\t<text>播放全部</text>\r\n\t\t\t\t\t\t<text>(共{{playlist.trackCount}}首)</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- \t\t\t\t\t<view class=\"list-music-item\">\r\n\t\t\t\t\t\t<view class=\"list-music-item-number\">1</view>\r\n\t\t\t\t\t\t<view class=\"list-music-item-song\">\r\n\t\t\t\t\t\t\t<view>与我无关</view>\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<image src=\"/static/dujia.png\"></image>\r\n\t\t\t\t\t\t\t\t<image src=\"/static/sq.png\"></image>\r\n\t\t\t\t\t\t\t\t<text>阿荣 - 与我无关</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<text class=\"iconfont iconbofang\"></text>\r\n\t\t\t\t\t</view> -->\r\n\t\t\t\t\t<view class=\"list-music-item\" v-for=\"(item,index) in playlist.tracks\" :key=\"index\" @tap=\"handleToDetail(item.id)\">\r\n\t\t\t\t\t\t<view class=\"list-music-item-number\">{{index+1}}</view>\r\n\t\t\t\t\t\t<view class=\"list-music-item-song\">\r\n\t\t\t\t\t\t\t<view>{{item.name}}</view>\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<image v-if=\"privileges[index].flag > 0\" src=\"/static/dujia.png\"></image>\r\n\t\t\t\t\t\t\t\t<image v-if=\"privileges[index].maxBrLevel==='lossless'\" src=\"/static/sq.png\"></image>\r\n\t\t\t\t\t\t\t\t<text>{{item.ar[0].name}} - {{item.name}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<text class=\"iconfont iconbofang\"></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport musicheadVue from '/components/musichead/musichead.vue';\r\n\timport formattCount from '/utils/Countformat'\r\n\timport '@/common/iconfont.css'\r\n\timport {\r\n\t\tlist\r\n\t} from '/common/api.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tplaylist: {\r\n\t\t\t\t\tcoverImgUrl: '',\r\n\t\t\t\t\tcreator: {\r\n\t\t\t\t\t\tavatarUrl: ''\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttrackCount: '',\r\n\t\t\t\t},\r\n\t\t\t\tprivileges:[],\r\n\t\t\t\tisLoading:true\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle:'Loading...'\r\n\t\t\t})\r\n\t\t\tlist(options.listId).then(res => {\r\n\t\t\t\tif (res.data.code === 200) {\r\n\t\t\t\t\tthis.playlist = res.data.playlist\r\n\t\t\t\t\tthis.privileges=res.data.privileges\t\r\n\t\t\t\t\tthis.isLoading=false\r\n\t\t\t\t\tconsole.log(formattCount(1000))\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tuni.hideLoading()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tformattCount,\r\n\t\t\thandleToDetail(songId){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'/pages/detail/detail?songId='+songId\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t.list-head {\r\n\t\tdisplay: flex;\r\n\t\tmargin: 30rpx;\r\n\t}\r\n\r\n\t.list-head-img {\r\n\t\twidth: 264rpx;\r\n\t\theight: 264rpx;\r\n\t\tposition: relative;\r\n\t\tborder-radius: 30rpx;\r\n\t\toverflow: hidden;\r\n\t\tmargin-left: 30rpx;\r\n\r\n\t\timage {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t}\r\n\r\n\t\ttext {\r\n\t\t\tposition: absolute;\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tcolor: white;\r\n\t\t\ttop: 8rpx;\r\n\t\t\tright: 8rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.list-head-text {\r\n\t\tflex: 1;\r\n\t\tmargin-left: 42rpx;\r\n\t\tcolor: #f0f2f7;\r\n\r\n\t\tview:nth-child(1) {\r\n\t\t\tfont-size: 44rpx;\r\n\t\t\tcolor: white;\r\n\t\t}\r\n\r\n\t\tview:nth-child(3) {\r\n\t\t\tline-height: 32rpx;\r\n\t\t\tfont-size: 22rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.list-head-text-body {\r\n\t\tdisplay: flex;\r\n\t\tmargin-left: 40rpx;\r\n\t\talign-items: center;\r\n\t\tmargin: 20rpx 0;\r\n\t\tfont-size: 24rpx;\r\n\r\n\t\timage {\r\n\t\t\twidth: 54rpx;\r\n\t\t\theight: 54rpx;\r\n\t\t\tborder-radius: 50%;\r\n\t\t}\r\n\r\n\t\ttext {\r\n\t\t\tmargin-left: 10rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.list-share {\r\n\t\twidth: 330rpx;\r\n\t\theight: 74rpx;\r\n\t\tmargin: 0 auto;\r\n\t\tborder-radius: 30rpx;\r\n\t\tbackground-color: rgba(0, 0, 0, 0.4);\r\n\t\tcolor: white;\r\n\t\ttext-align: center;\r\n\t\tline-height: 74rpx;\r\n\t\tfont-size: 30rpx;\r\n\r\n\t\ttext {\r\n\t\t\tmargin-right: 15rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.list-music {\r\n\t\tmargin-top: 40rpx;\r\n\t\tbackground-color: white;\r\n\t\tborder-radius: 40rpx;\r\n\t\tdisplay: flow-root;\r\n\t}\r\n\r\n\t.list-music-head {\r\n\t\theight: 50rpx;\r\n\t\tmargin-left: 20rpx;\r\n\t\tmargin-top: 20rpx;\r\n\t\tmargin-bottom: 50rpx;\r\n\r\n\t\ttext {\r\n\t\t\tmargin-right: 10rpx;\r\n\t\t}\r\n\r\n\t\ttext:nth-child(1) {\r\n\t\t\theight: 50rpx;\r\n\t\t\tfont-size: 50rpx;\r\n\t\t\tmargin-right: 26rpx;\r\n\t\t}\r\n\r\n\t\ttext:nth-child(2) {\r\n\t\t\tfont-size: 30rpx;\r\n\t\t}\r\n\r\n\t\ttext:nth-child(3) {\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tcolor: #b2b2b2;\r\n\t\t}\r\n\t}\r\n\r\n\t.list-music-item {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\theight: 80rpx;\r\n\t\tmargin: 0 32rpx 30rpx 38rpx;\r\n\t\tcolor: #959595;\r\n\r\n\t\ttext {\r\n\t\t\tfont-size: 50rpx;\r\n\t\t\tcolor: #c7c7c7\r\n\t\t}\r\n\t}\r\n\r\n\t.list-music-item-number {\r\n\t\t// width: 20rpx;\r\n\t\t// height: 20rpx;\r\n\t\twidth: 40rpx;\r\n\t\tfont-size: 30rpx;\r\n\t\tline-height: 30rpx;\r\n\r\n\t}\r\n\r\n\t.list-music-item-song {\r\n\t\tmargin-left: 15rpx;\r\n\t\tflex: 1;\r\n\t\tmin-width: 0; \r\n\t\t// 参见markdown解释为什么设置min-width:0，才能使得view:nth-child(2) text省略号有效\r\n\t\tview:nth-child(1) {\r\n\t\t\tfont-size: 30rpx;\r\n\t\t\tline-height: 30rpx;\r\n\t\t\tcolor: black;\r\n\t\t\tmargin-bottom: 10rpx;\r\n\t\t\twidth: 70vw;\r\n\t\t\twhite-space: nowrap;\r\n\t\t\toverflow: hidden;\r\n\t\t\ttext-overflow: ellipsis;\r\n\t\t}\r\n\r\n\t\tview:nth-child(2) {\r\n\t\t\tdisplay: flex;\r\n\t\t\t// justify-content: flex-start;\r\n\t\t\tflex:1;\r\n\t\t\t// min-width: 0; \r\n\t\t\talign-items: center;\r\n\t\t\toverflow: hidden;\r\n\t\t\ttext-overflow: ellipsis;\r\n\t\t\timage {\r\n\t\t\t\twidth: 32rpx;\r\n\t\t\t\theight: 20rpx;\r\n\t\t\t\tmargin-right: 10rpx;\r\n\t\t\t}\r\n\r\n\t\t\ttext {\r\n\t\t\t\tflex:1;\r\n\t\t\t\tmargin-left: 10rpx;\r\n\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\tpadding-left: 5rpx;\r\n\t\t\t\tmin-width: 0; \r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import MiniProgramPage from 'E:/uniapps/neteaseMusic/pages/list/list.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","list","formattCount"],"mappings":";;;;;;AAqEC,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,UAAU;AAAA,QACT,aAAa;AAAA,QACb,SAAS;AAAA,UACR,WAAW;AAAA,QACX;AAAA,QACD,YAAY;AAAA,MACZ;AAAA,MACD,YAAW,CAAE;AAAA,MACb,WAAU;AAAA,IACX;AAAA,EACA;AAAA,EACD,OAAO,SAAS;AACfA,kBAAAA,MAAI,YAAY;AAAA,MACf,OAAM;AAAA,KACN;AACDC,eAAAA,KAAK,QAAQ,MAAM,EAAE,KAAK,SAAO;AAChC,UAAI,IAAI,KAAK,SAAS,KAAK;AAC1B,aAAK,WAAW,IAAI,KAAK;AACzB,aAAK,aAAW,IAAI,KAAK;AACzB,aAAK,YAAU;AACfD,sBAAA,MAAA,MAAA,OAAA,6BAAYE,kBAAY,YAAC,GAAI,CAAC;AAAA,MAE/B;AAAA,KACA;AACDF,kBAAAA,MAAI,YAAY;AAAA,EAChB;AAAA,EACD,SAAS;AAAA,kBACRE,kBAAY;AAAA,IACZ,eAAe,QAAO;AACrBF,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAI,iCAA+B;AAAA,OACnC;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzGD,GAAG,WAAW,eAAe;"}